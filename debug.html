<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëª¨ë°”ì¼ ë””ë²„ê¹… í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        .debug-info {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
        }
        .error-log {
            background: rgba(255,0,0,0.2);
            padding: 10px;
            border-radius: 5px;
            margin: 5px 0;
            font-family: monospace;
            font-size: 12px;
        }
        .success-log {
            background: rgba(0,255,0,0.2);
            padding: 10px;
            border-radius: 5px;
            margin: 5px 0;
            font-family: monospace;
            font-size: 12px;
        }
        button {
            background: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            margin: 5px;
            cursor: pointer;
        }
        button:hover {
            background: #45a049;
        }
    </style>
</head>
<body>
    <h1>ğŸ“± ëª¨ë°”ì¼ ë””ë²„ê¹… í…ŒìŠ¤íŠ¸</h1>
    
    <div class="debug-info">
        <h3>ğŸ” ì‹œìŠ¤í…œ ì •ë³´</h3>
        <p><strong>User Agent:</strong> <span id="userAgent"></span></p>
        <p><strong>í™”ë©´ í¬ê¸°:</strong> <span id="screenSize"></span></p>
        <p><strong>ë·°í¬íŠ¸:</strong> <span id="viewport"></span></p>
        <p><strong>ë„¤íŠ¸ì›Œí¬ ìƒíƒœ:</strong> <span id="networkStatus"></span></p>
    </div>

            <div class="debug-info">
            <h3>ğŸŒ API í…ŒìŠ¤íŠ¸</h3>
            <button onclick="testBybitAPI()">ë°”ì´ë¹„íŠ¸ API í…ŒìŠ¤íŠ¸</button>
            <button onclick="testExchangeAPI()">í™˜ìœ¨ API í…ŒìŠ¤íŠ¸</button>
            <button onclick="testCoinGeckoAPI()">CoinGecko API í…ŒìŠ¤íŠ¸</button>
            <div id="apiResults"></div>
        </div>

    <div class="debug-info">
        <h3>ğŸ“Š ì˜¤ë¥˜ ë¡œê·¸</h3>
        <div id="errorLog"></div>
    </div>

    <div class="debug-info">
        <h3>âœ… ì„±ê³µ ë¡œê·¸</h3>
        <div id="successLog"></div>
    </div>

    <script>
        // ì‹œìŠ¤í…œ ì •ë³´ í‘œì‹œ
        document.getElementById('userAgent').textContent = navigator.userAgent;
        document.getElementById('screenSize').textContent = `${screen.width}x${screen.height}`;
        document.getElementById('viewport').textContent = `${window.innerWidth}x${window.innerHeight}`;
        
        // ë„¤íŠ¸ì›Œí¬ ìƒíƒœ í™•ì¸
        if ('connection' in navigator) {
            const connection = navigator.connection;
            document.getElementById('networkStatus').textContent = 
                `${connection.effectiveType} (${connection.downlink}Mbps)`;
        } else {
            document.getElementById('networkStatus').textContent = 'ì•Œ ìˆ˜ ì—†ìŒ';
        }

        // ì˜¤ë¥˜ ë¡œê·¸ í•¨ìˆ˜
        function logError(message) {
            const errorDiv = document.getElementById('errorLog');
            const errorElement = document.createElement('div');
            errorElement.className = 'error-log';
            errorElement.textContent = `âŒ ${new Date().toLocaleTimeString()}: ${message}`;
            errorDiv.appendChild(errorElement);
        }

        // ì„±ê³µ ë¡œê·¸ í•¨ìˆ˜
        function logSuccess(message) {
            const successDiv = document.getElementById('successLog');
            const successElement = document.createElement('div');
            successElement.className = 'success-log';
            successElement.textContent = `âœ… ${new Date().toLocaleTimeString()}: ${message}`;
            successDiv.appendChild(successElement);
        }

        // ë°”ì´ë¹„íŠ¸ API í…ŒìŠ¤íŠ¸
        async function testBybitAPI() {
            try {
                logSuccess('ë°”ì´ë¹„íŠ¸ API í…ŒìŠ¤íŠ¸ ì‹œì‘...');
                
                const response = await fetch('https://api.bybit.com/v5/market/tickers?category=spot', {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json',
                        'User-Agent': 'Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15'
                    },
                    mode: 'cors'
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                const data = await response.json();
                if (data.result && data.result.list) {
                    logSuccess(`ë°”ì´ë¹„íŠ¸ API ì„±ê³µ: ${data.result.list.length}ê°œ ì½”ì¸ ë°ì´í„°`);
                } else {
                    throw new Error('ë°”ì´ë¹„íŠ¸ API ì‘ë‹µ í˜•ì‹ ì˜¤ë¥˜');
                }
            } catch (error) {
                logError(`ë°”ì´ë¹„íŠ¸ API ì˜¤ë¥˜: ${error.message}`);
                
                // ë°”ì´ë¹„íŠ¸ API ì‹¤íŒ¨ ì‹œ CoinGecko API í…ŒìŠ¤íŠ¸
                logSuccess('ë°”ì´ë¹„íŠ¸ API ì‹¤íŒ¨, CoinGecko API í…ŒìŠ¤íŠ¸...');
                await testFallbackAPI();
            }
        }

        // ëŒ€ì²´ API í…ŒìŠ¤íŠ¸ (CoinGecko)
        async function testFallbackAPI() {
            try {
                logSuccess('ëŒ€ì²´ API (CoinGecko) í…ŒìŠ¤íŠ¸ ì‹œì‘...');
                const response = await fetch('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=volume_desc&per_page=10&page=1&sparkline=false', {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json',
                        'User-Agent': 'Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15'
                    },
                    mode: 'cors'
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                const data = await response.json();
                logSuccess(`ëŒ€ì²´ API ì„±ê³µ: ${data.length}ê°œ ì½”ì¸ ë°ì´í„°`);
            } catch (error) {
                logError(`ëŒ€ì²´ API ì˜¤ë¥˜: ${error.message}`);
            }
        }

        // í™˜ìœ¨ API í…ŒìŠ¤íŠ¸
        async function testExchangeAPI() {
            try {
                logSuccess('í™˜ìœ¨ API í…ŒìŠ¤íŠ¸ ì‹œì‘...');
                const response = await fetch('https://api.exchangerate-api.com/v4/latest/USD', {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json'
                    },
                    mode: 'cors'
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                const data = await response.json();
                logSuccess(`í™˜ìœ¨ API ì„±ê³µ: USD/KRW = ${data.rates.KRW}`);
            } catch (error) {
                logError(`í™˜ìœ¨ API ì˜¤ë¥˜: ${error.message}`);
            }
        }

        // CoinGecko API í…ŒìŠ¤íŠ¸
        async function testCoinGeckoAPI() {
            try {
                logSuccess('CoinGecko API í…ŒìŠ¤íŠ¸ ì‹œì‘...');
                const response = await fetch('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=10&page=1&sparkline=false', {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json'
                    },
                    mode: 'cors'
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                const data = await response.json();
                logSuccess(`CoinGecko API ì„±ê³µ: ${data.length}ê°œ ì½”ì¸ ë°ì´í„°`);
            } catch (error) {
                logError(`CoinGecko API ì˜¤ë¥˜: ${error.message}`);
            }
        }

        // ì „ì—­ ì˜¤ë¥˜ ìºì¹˜
        window.addEventListener('error', function(e) {
            logError(`JavaScript ì˜¤ë¥˜: ${e.message} (${e.filename}:${e.lineno})`);
        });

        // ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ìºì¹˜
        window.addEventListener('unhandledrejection', function(e) {
            logError(`Promise ì˜¤ë¥˜: ${e.reason}`);
        });

        // í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ ë¡œê·¸
        window.addEventListener('load', function() {
            logSuccess('í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ');
        });
    </script>
</body>
</html> 